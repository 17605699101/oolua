<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>OOLua: Proxy</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OOLua.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OOLua
   &#160;<span id="projectnumber">2.0.0 Alpha</span>
   </div>
   <div id="projectbrief">C++ and Lua binding</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_o_o_lua_proxying.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Proxy </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="OOLuaProxyDSL"></a>
DSL</h1>
<p>The Domain specific language used for generating C++ bindings for Lua. </p>
<p>OOLua provides a DSL for defining C++ types which are to be made available to a Lua script. The intention of this DSL is to hide the details whilst providing a simple and rememberable interface for performing the actions required. </p>
<p><a class="el" href="group___o_o_lua_minimalist.html">Minimalist</a> </p>
<p>Generates a function using the only the name FunctionName/RealClass::FunctionName to resolve the function which is to be proxied. As with taking the address of any C++ function, if there is any ambiguity it will fail to compile, in which case a user should help the compiler by specifying more information via the <a class="el" href="group___o_o_lua_expressive.html">Expressive</a> macros. i.e. The longer the name the more information. <br/>
 </p>
<dl class="section note"><dt>Note</dt><dd>If the optional parmeter is not supplied then FunctionName is used for both parameters </dd>
<dd>
No <a class="el" href="group___o_o_lua_traits.html">Traits</a> can be expressed with this group of macros </dd></dl>
<p><a class="el" href="group___o_o_lua_expressive.html">Expressive</a> </p>
<p>Generates a function for which the user has expressed all the parameters for a function these may additionally have <a class="el" href="group___o_o_lua_traits.html">Traits</a>. </p>
<h1><a class="anchor" id="OOLuaProxyTraits"></a>
Traits</h1>
<p>In C++ the use of traits which have a lua_ or cpp_ prefix can control ownership for parameters, returns values and stack entries whilst traits which specify direction for parameters contain as part of their name "out", "in" or a combination.</p>
<ul>
<li><a class="el" href="struct_o_o_l_u_a_1_1in__p.html">in_p</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1out__p.html">out_p</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1in__out__p.html">in_out_p</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1cpp__in__p.html">cpp_in_p</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1lua__out__p.html">lua_out_p</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1cpp__acquire__ptr.html">cpp_acquire_ptr</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1lua__acquire__ptr.html">lua_acquire_ptr</a> </li>
</ul>
<h1><a class="anchor" id="ClassProxy"></a>
Class Proxy</h1>
<p>Generating a proxy for a class normally takes place between two DSL procedures <a class="el" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd">OOLUA_PROXY</a> and <a class="el" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e">OOLUA_PROXY_END</a> although alone these do not supply enough information for a proxy to be generated, the following shows all the steps required to be able to create a class in Lua.</p>
<h2><a class="anchor" id="MinimalClassProxy"></a>
Minimal Class Proxy</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="struct_stub1.html">Stub1</a> {};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(<a class="code" href="struct_stub1.html">Stub1</a>)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS</a>()</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga1df8f4cd9cdffef161de3c201d6b1a39" title="Inform that there are no functions of interest. ">OOLUA_EXPORT_NO_FUNCTIONS</a>(<a class="code" href="struct_stub1.html">Stub1</a>)</div>
</div><!-- fragment --> <div class="fragment"><div class="line">    <span class="keywordtype">void</span> setUp()</div>
<div class="line">    {</div>
<div class="line">        m_lua = <span class="keyword">new</span> <a class="code" href="class_o_o_l_u_a_1_1_script.html" title="OOLua helper class. ">OOLUA::Script</a>;</div>
<div class="line">        m_lua-&gt;<a class="code" href="class_o_o_l_u_a_1_1_script.html#a870cd14a0757100bafcd5e4352894e83" title="Helper function. ">register_class</a>&lt;<a class="code" href="struct_stub1.html">Stub1</a>&gt;();</div>
<div class="line">    }</div>
</div><!-- fragment --> <div class="fragment"><div class="line">    <span class="keywordtype">void</span> new_luaCreatesInstance_noException()</div>
<div class="line">    {</div>
<div class="line">        CPPUNIT_ASSERT_NO_THROW( m_lua-&gt;run_chunk(<span class="stringliteral">&quot;Stub1:new()&quot;</span>) );</div>
<div class="line">    }</div>
</div><!-- fragment --> <h3><a class="anchor" id="ClassConstructors"></a>
Constructors</h3>
<p><a class="el" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS(Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Optional</td><td>List of <a class="el" href="group___o_o_lua_d_s_l.html#ga437d72d20968100efe9fb362247176cc">OOLUA_CTOR</a> </td></tr>
  </table>
  </dd>
</dl>
<p>To enable the construction of an instance which is a specific type there must be constructors for that type registered with OOLua. <a class="el" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b">OOLUA_CTORS</a> is the block into which you can define constructor entries using OOLUA_CTOR. An OOLUA_CTORS block with no <a class="el" href="group___o_o_lua_d_s_l.html#ga437d72d20968100efe9fb362247176cc">OOLUA_CTOR</a> entries informs OOLua that the type has a default constructor in the public interface, unless otherwise enformed OOLuaTags. </p>
<p>Constructors are the only real type of overloading which is permitted by OOLua and there is an important point which should be noted. OOLua will try and match the number of parameters on the stack with the amount required by each OOLUA_CTOR entry and will look in the order they were defined. When interacting with the Lua stack certain types can not be differentiated between, these include some integral types such as float, int, double etc and types which are of a proxy class type or derived from that type. OOLua implicitly converts between classes in a hierarchy even if a reference is required. This means for example that if there are constructors such as Foo::Foo(int) and Foo::Foo(float) it will depend on which was defined first in the OOLUA_CTORS block as to which will be invoked for a call such as Foo:new(1). </p>
<h3><a class="anchor" id="ClassTags"></a>
Tags</h3>
<p><a class="el" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS(Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Optional</td><td>Comma seperated list of <a class="el" href="group___o_o_lua_tags.html">Tags</a> </td></tr>
  </table>
  </dd>
</dl>
<p>Tags specifiy more information about the class which should be exposed, such as: </p>
<ul>
<li>Does the class support any operators? </li>
<li>Is it abstract ? </li>
<li>Does the class have enumerations? <dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___o_o_lua_tags.html" title="Possible members for OOLUA_TAGS which help express more information about a class which is to be prox...">Tags</a> </dd></dl>
</li>
</ul>
<h3><a class="anchor" id="ClassExporting"></a>
Exporting</h3>
<p>Defines which member functions will be registered with Lua when the class type is registered. Even when there are no member functions to be exported you still need to inform OOLua about this. Calling an <a class="el" href="group___o_o_lua_exporting.html">OOLUA_EXPORT*</a> procedure in a header file is an error that will fail to compile.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a> <br/>
 <a class="el" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a> <br/>
 <a class="el" href="group___o_o_lua_exporting.html#ga1df8f4cd9cdffef161de3c201d6b1a39" title="Inform that there are no functions of interest. ">OOLUA_EXPORT_NO_FUNCTIONS</a> </dd></dl>
<h2><a class="anchor" id="ExposingMemberFunctions"></a>
Exposing member functions</h2>
<p><a class="el" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC( FunctionName, Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FunctionName</td><td>Name of the member function to be proxied </td></tr>
    <tr><td class="paramname">Optional</td><td>ProxyFunctionName. Defaults to FunctionName </td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group___o_o_lua_minimalist.html#gad46e27f9cb000653ce7266fb98c6d062" title="Deduce and generate a proxy for a constant member function. ">OOLUA_MFUNC_CONST(FunctionName,Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FunctionName</td><td>Name of the constant function to be proxied </td></tr>
    <tr><td class="paramname">Optional</td><td>ProxyFunctionName. Defaults to FunctionName </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="comment">//typedef the type of vector into the global namespace</span></div>
<div class="line"><span class="comment">//This is required as a vector has more than one template type</span></div>
<div class="line"><span class="comment">//and the commas in the template confuse a macro.</span></div>
<div class="line"><span class="keyword">typedef</span> std::vector&lt;int&gt; vector_int;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(vector_int)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC</a>(push_back)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC</a>(pop_back)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#gad46e27f9cb000653ce7266fb98c6d062" title="Deduce and generate a proxy for a constant member function. ">OOLUA_MFUNC_CONST</a>(size)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a>(vector_int,</div>
<div class="line">                                   push_back,</div>
<div class="line">                                   pop_back)</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a>(vector_int,size)</div>
</div><!-- fragment --> <h2><a class="anchor" id="AbstractClass"></a>
Abstract Class</h2>
<p>Generating an abstract proxy requires that you specify the <a class="el" href="struct_o_o_l_u_a_1_1_abstract.html">Abstract</a> tag in the <a class="el" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2">OOLUA_TAGS</a> block </p>
<p>When OOLua encounters the <a class="el" href="struct_o_o_l_u_a_1_1_abstract.html">Abstract</a> tag it will not look for any constructors for the type and the type will not be constructable from Lua. Specifying an <a class="el" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b">OOLUA_CTORS</a> block will have no effect and such a block will be ignored. </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>Abstract1</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~Abstract1(){}</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> func1()=0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> virtualVoidParam3Int(<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>) = 0;</div>
<div class="line">};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(Abstract1)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>( Abstract )</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC</a>(virtualVoidParam3Int)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC</a>(func1)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a>(Abstract1,func1,virtualVoidParam3Int)</div>
<div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a>(Abstract1)</div>
</div><!-- fragment --> <h2><a class="anchor" id="BaseClass"></a>
Base Classes</h2>
<p>Using <a class="el" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd">OOLUA_PROXY's</a> optional parameter(s) specifies base class(es) for the proxy </p>
<p><a class="el" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY(ClassName, Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ClassName</td><td>Class to be proxied </td></tr>
    <tr><td class="paramname">Optional</td><td>Comma seperated list of real base classes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>Each class specified in Optional must be a real base class of ClassName </dd></dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>Derived1Abstract1 : <span class="keyword">public</span> Abstract1</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~Derived1Abstract1(){}</div>
<div class="line">    MOCK_METHOD0(func1,<span class="keywordtype">void</span> ());</div>
<div class="line">    MOCK_METHOD3(virtualVoidParam3Int,<span class="keywordtype">void</span> (<span class="keywordtype">int</span>,<span class="keywordtype">int</span>,<span class="keywordtype">int</span>));</div>
<div class="line">};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(Derived1Abstract1,Abstract1)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS</a>()</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a>(Derived1Abstract1)</div>
<div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a>(Derived1Abstract1)</div>
</div><!-- fragment --> <h2><a class="anchor" id="ClassOps"></a>
Operators</h2>
<p><a class="el" href="group___operator_tags.html">Operator Tags</a> inform OOLua that a class exposes one or more of the operators supported: </p>
<ul>
<li><a class="el" href="struct_o_o_l_u_a_1_1_less__op.html">Less_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_equal__op.html">Equal_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_not__equal__op.html">Not_equal_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_less__equal__op.html">Less_equal_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_div__op.html">Div_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_mul__op.html">Mul_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_sub__op.html">Sub_op</a> </li>
<li><a class="el" href="struct_o_o_l_u_a_1_1_add__op.html">Add_op</a> </li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">class </span>Class_ops</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Class_ops(<span class="keywordtype">int</span> <span class="keyword">const</span> &amp; i ):m_i(i){}</div>
<div class="line">    Class_ops():m_i(0){}</div>
<div class="line">    Class_ops( Class_ops <span class="keyword">const</span>&amp; rhs)</div>
<div class="line">        :m_i(rhs.m_i)</div>
<div class="line">    {}</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">int</span> <span class="keyword">const</span>&amp; geti()<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> m_i;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">bool</span> operator == (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> m_i == rhs.m_i;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">bool</span> operator &lt; (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> m_i &lt; rhs.m_i;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordtype">bool</span> operator &lt;= (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> m_i &lt;= rhs.m_i;</div>
<div class="line">    }</div>
<div class="line">    Class_ops operator + (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> Class_ops( m_i + rhs.m_i );</div>
<div class="line">    }</div>
<div class="line">    Class_ops operator * (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> Class_ops(m_i * rhs.m_i);</div>
<div class="line">    }</div>
<div class="line">    Class_ops operator - (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> Class_ops(m_i - rhs.m_i);</div>
<div class="line">    }</div>
<div class="line">    Class_ops operator / (Class_ops <span class="keyword">const</span>&amp; rhs)<span class="keyword">const</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keywordflow">return</span> Class_ops(m_i / rhs.m_i);</div>
<div class="line">    }</div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <span class="keywordtype">int</span> m_i;</div>
<div class="line">};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(Class_ops)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>(</div>
<div class="line">        Equal_op,</div>
<div class="line">        Less_op,</div>
<div class="line">        Less_equal_op,</div>
<div class="line">        Add_op,</div>
<div class="line">        Sub_op,</div>
<div class="line">        Mul_op,</div>
<div class="line">        Div_op</div>
<div class="line">    )</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#gad46e27f9cb000653ce7266fb98c6d062" title="Deduce and generate a proxy for a constant member function. ">OOLUA_MFUNC_CONST</a>(geti)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a>(Class_ops)</div>
<div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a>(Class_ops,geti)</div>
</div><!-- fragment --> <h2><a class="anchor" id="ClassPublicMembers"></a>
Public members</h2>
<p><a class="el" href="group___o_o_lua_minimalist.html#ga5adf4043ac3defad4dee307f9683a951" title="Generates a getter for a public member. ">OOLUA_MGET(id)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Public member name </td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group___o_o_lua_minimalist.html#ga5adf4043ac3defad4dee307f9683a951" title="Generates a getter for a public member. ">OOLUA_MGET(id)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Public member name </td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group___o_o_lua_minimalist.html#ga8e4078f5a9aa97bdf3d4e16fab091d99" title="Generates both a getter and setter for a public member. ">OOLUA_MGET_MSET(id)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Public member name </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>Public_variables</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    Public_variables();</div>
<div class="line">    ~Public_variables();</div>
<div class="line">    <span class="keywordtype">int</span> an_int;</div>
<div class="line">    <span class="keywordtype">int</span>* int_ptr;</div>
<div class="line">    <a class="code" href="struct_stub1.html">Stub1</a>* dummy_instance;</div>
<div class="line">    <a class="code" href="struct_stub1.html">Stub1</a> dummy_instance_none_ptr;</div>
<div class="line">    <a class="code" href="struct_stub1.html">Stub1</a>&amp; dummy_ref;</div>
<div class="line"></div>
<div class="line">    </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> set_value = 1;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> initial_value = 0;</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    Public_variables(Public_variables <span class="keyword">const</span>&amp;);</div>
<div class="line">    Public_variables&amp; operator = (Public_variables <span class="keyword">const</span>&amp; );</div>
<div class="line">    </div>
<div class="line">};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(Public_variables)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS</a>()</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga8e4078f5a9aa97bdf3d4e16fab091d99" title="Generates both a getter and setter for a public member. ">OOLUA_MGET_MSET</a>(an_int)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga8e4078f5a9aa97bdf3d4e16fab091d99" title="Generates both a getter and setter for a public member. ">OOLUA_MGET_MSET</a>(int_ptr)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga8e4078f5a9aa97bdf3d4e16fab091d99" title="Generates both a getter and setter for a public member. ">OOLUA_MGET_MSET</a>(dummy_instance)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga5adf4043ac3defad4dee307f9683a951" title="Generates a getter for a public member. ">OOLUA_MGET</a>(dummy_ref)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga5adf4043ac3defad4dee307f9683a951" title="Generates a getter for a public member. ">OOLUA_MGET</a>(dummy_instance_none_ptr)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a>(Public_variables,</div>
<div class="line">                                   set_an_int,</div>
<div class="line">                                   set_int_ptr,</div>
<div class="line">                                   set_dummy_instance)</div>
<div class="line"></div>
<div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a>(Public_variables,</div>
<div class="line">                               get_an_int,</div>
<div class="line">                               get_int_ptr,</div>
<div class="line">                               get_dummy_instance,</div>
<div class="line">                               get_dummy_ref,</div>
<div class="line">                               get_dummy_instance_none_ptr)</div>
</div><!-- fragment --> <p><b>Public member access in Lua is via a member function</b> </p>
<div class="fragment"><div class="line">    <span class="keywordtype">void</span> getAnInt_publicVariablesClassPassedToLua_returnsSetValue()</div>
<div class="line">    {</div>
<div class="line">        m_class_with_public_vars-&gt;an_int = Public_variables::set_value;</div>
<div class="line">        m_lua-&gt;run_chunk(<span class="stringliteral">&quot;func = function(obj) return obj:get_an_int() end&quot;</span>);</div>
<div class="line">        m_lua-&gt;call(<span class="stringliteral">&quot;func&quot;</span>,m_class_with_public_vars);</div>
<div class="line">        <span class="keywordtype">int</span> result;</div>
<div class="line">        <a class="code" href="namespace_o_o_l_u_a.html#aa63d89ea60ca70c1f32686050c8b89ac" title="Pulls the top element off the stack popping it. ">OOLUA::pull</a>(*m_lua,result);</div>
<div class="line">        CPPUNIT_ASSERT_EQUAL(Public_variables::set_value,result);</div>
<div class="line">    }</div>
</div><!-- fragment --><h2><a class="anchor" id="ClassEnumerations"></a>
Enumerations</h2>
<p><a class="el" href="group___o_o_lua_d_s_l.html#ga2f4973ad38c75c140bd99f93e4183fe0" title="Creates a block into which enumerators can be defined with OOLUA_ENUM. ">OOLUA_ENUMS(Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Optional</td><td>List of <a class="el" href="group___o_o_lua_d_s_l.html#ga845a2ff6e9b5f8207f802a5a66d74d9e">OOLUA_ENUM</a> </td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="group___o_o_lua_d_s_l.html#ga845a2ff6e9b5f8207f802a5a66d74d9e" title="Creates a entry into a OOLUA_ENUMS block. ">OOLUA_ENUM(EnumName)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">EnumName</td><td>The class enumeration name </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>Enums</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">enum</span> COLOUR{GREEN=0,INVALID};</div>
<div class="line">    Enums()</div>
<div class="line">        :m_enum(INVALID)</div>
<div class="line">    {}</div>
<div class="line">    Enums(COLOUR e)</div>
<div class="line">        :m_enum(e)</div>
<div class="line">    {}</div>
<div class="line">    COLOUR m_enum;</div>
<div class="line">    <span class="keywordtype">void</span> set_enum(COLOUR e)</div>
<div class="line">    {</div>
<div class="line">        m_enum = e;</div>
<div class="line">    }</div>
<div class="line">    COLOUR get_enum()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> m_enum;</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(Enums)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>(</div>
<div class="line">        Register_class_enums</div>
<div class="line">    )</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga731d50a525b6fbbf37cce98bfb97fd9b" title="Creates a block into which constructors can be defined with OOLUA_CTOR. ">OOLUA_CTORS</a>(</div>
<div class="line">        <a class="code" href="group___o_o_lua_d_s_l.html#ga437d72d20968100efe9fb362247176cc" title="Generates a constructor in a constructor block. ">OOLUA_CTOR</a>(Enums::COLOUR)</div>
<div class="line">    )</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga2f4973ad38c75c140bd99f93e4183fe0" title="Creates a block into which enumerators can be defined with OOLUA_ENUM. ">OOLUA_ENUMS</a>(</div>
<div class="line">        <a class="code" href="group___o_o_lua_d_s_l.html#ga845a2ff6e9b5f8207f802a5a66d74d9e" title="Creates a entry into a OOLUA_ENUMS block. ">OOLUA_ENUM</a>(GREEN)</div>
<div class="line">        <a class="code" href="group___o_o_lua_d_s_l.html#ga845a2ff6e9b5f8207f802a5a66d74d9e" title="Creates a entry into a OOLUA_ENUMS block. ">OOLUA_ENUM</a>(INVALID)</div>
<div class="line">    )</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC</a>(set_enum)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga3c1cca539f85a5728c9896d54ea4e275" title="Deduce and generate a proxy for a member function. ">OOLUA_MFUNC</a>(get_enum)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga8dbe5b8a090a86ade26f86d395c03fb0" title="Exports zero or more const member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS_CONST</a>(Enums)</div>
<div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga6a15603355073c969178db64d32b8d07" title="Exports zero or more member functions which will be registered with Lua. ">OOLUA_EXPORT_FUNCTIONS</a>(Enums</div>
<div class="line">                                 ,set_enum</div>
<div class="line">                                 ,get_enum</div>
<div class="line">                                 )</div>
</div><!-- fragment --> <div class="fragment"><div class="line">    <span class="keywordtype">void</span> constructWithEnum_passedValueGreen_functionReturnsGreen()</div>
<div class="line">    {</div>
<div class="line">        m_lua-&gt;register_class&lt;Enums&gt;();</div>
<div class="line">        m_lua-&gt;run_chunk(<span class="stringliteral">&quot;foo = function() &quot;</span></div>
<div class="line">                            <span class="stringliteral">&quot;local obj = Enums:new(Enums.GREEN) &quot;</span></div>
<div class="line">                            <span class="stringliteral">&quot;return obj:get_enum() &quot;</span></div>
<div class="line">                         <span class="stringliteral">&quot;end&quot;</span>);</div>
<div class="line">        Enums::COLOUR result(Enums::INVALID);</div>
<div class="line">        m_lua-&gt;call(<span class="stringliteral">&quot;foo&quot;</span>);</div>
<div class="line">        <a class="code" href="namespace_o_o_l_u_a.html#aa63d89ea60ca70c1f32686050c8b89ac" title="Pulls the top element off the stack popping it. ">OOLUA::pull</a>(*m_lua,result);</div>
<div class="line">        CPPUNIT_ASSERT_EQUAL(Enums::GREEN,result);</div>
<div class="line">    }</div>
</div><!-- fragment --> <h2><a class="anchor" id="ClassStaticFunctions"></a>
Static functions</h2>
<p><a class="el" href="group___o_o_lua_minimalist.html#ga8ce05f53d7da2b3c2226f03002fa75db" title="Deduce and generate a proxy for a class static function. ">OOLUA_SFUNC(FunctionName,Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FunctionName</td><td>Name of the static function to be proxied </td></tr>
    <tr><td class="paramname">Optional</td><td>ProxyFunctionName. Defaults to FunctionName </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This function will not exported and needs to be registered with OOLua see <a class="el" href="namespace_o_o_l_u_a.html#a4a9fa9782150dbbfeed4b110b8b24ca6" title="Registers a key K and value V entry into class T. ">OOLUA::register_class_static</a> </dd></dl>
<div class="fragment"><div class="line"><span class="keyword">class </span>ClassHasStaticFunction</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> static_function(){}</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> static_function(<span class="keywordtype">int</span>){}</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">int</span> returns_input(<span class="keywordtype">int</span> t){<span class="keywordflow">return</span> t;}</div>
<div class="line">};</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(ClassHasStaticFunction)</div>
<div class="line">    <a class="code" href="group___o_o_lua_d_s_l.html#ga648dba626b4328aad9e995d4bb6391c2" title="Allows more information to be specified about the proxy class. ">OOLUA_TAGS</a>(No_public_constructors)</div>
<div class="line">    <a class="code" href="group___o_o_lua_minimalist.html#ga8ce05f53d7da2b3c2226f03002fa75db" title="Deduce and generate a proxy for a class static function. ">OOLUA_SFUNC</a>(returns_input)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_exporting.html#ga1df8f4cd9cdffef161de3c201d6b1a39" title="Inform that there are no functions of interest. ">OOLUA_EXPORT_NO_FUNCTIONS</a>(ClassHasStaticFunction)</div>
</div><!-- fragment --><h1><a class="anchor" id="CFunctions"></a>
C Functions</h1>
<h2><a class="anchor" id="CFunctionMinimalist"></a>
Minimalist</h2>
<p>We have already seen the <a class="el" href="group___o_o_lua_minimalist.html">Minimalist</a> version in the Hello Moon example. </p>
<p>Deduce and generate a proxy for a C function. </p>
<p><a class="el" href="group___o_o_lua_minimalist.html#gadb95e992a32ab9c2a76683c3c628ea6c" title="Deduce and generate a proxy for a C function. ">OOLUA_CFUNC(FunctionName,Optional)</a> </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">FunctionName</td><td>Name of the C function to be proxied </td></tr>
    <tr><td class="paramname">Optional</td><td>ProxyFunctionName. Defaults to FunctionName </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> say(<span class="keywordtype">char</span> <span class="keyword">const</span>* input)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;%s from a standalone function\n&quot;</span>,input);</div>
<div class="line">}</div>
</div><!-- fragment --> <div class="fragment"><div class="line"><a class="code" href="group___o_o_lua_minimalist.html#gadb95e992a32ab9c2a76683c3c628ea6c" title="Deduce and generate a proxy for a C function. ">OOLUA_CFUNC</a>(say,l_say) </div>
</div><!-- fragment --> <div class="fragment"><div class="line">    <span class="keywordtype">void</span> hello_function()</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">using namespace </span>OOLUA;</div>
<div class="line">        <a class="code" href="class_o_o_l_u_a_1_1_script.html" title="OOLua helper class. ">Script</a> vm;</div>
<div class="line">        <a class="code" href="namespace_o_o_l_u_a.html#a372e58326dc9259a4791e770ac407871" title="Helper function to set a Lua global variable. ">set_global</a>(vm, <span class="stringliteral">&quot;say&quot;</span>, l_say);</div>
<div class="line">        <a class="code" href="namespace_o_o_l_u_a.html#a0c799adcc6a9c3865bca1256dd083f65" title="Loads and runs a chunk of code. ">run_chunk</a>(vm, <span class="stringliteral">&quot;say(&#39;Hello Lua&#39;)&quot;</span>);</div>
<div class="line">    }</div>
</div><!-- fragment --></div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="_o_o_lua_useage.html">Usage</a></li>
    <li class="footer">Generated on Wed May 22 2013 23:54:12 for OOLua by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
