<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>OOLua: Traits</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="OOLua.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">OOLua
   &#160;<span id="projectnumber">2.0.0-Beta1</span>
   </div>
   <div id="projectbrief">C++ and Lua binding</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___o_o_lua_traits.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#enumval-members">Enumerator</a>  </div>
  <div class="headertitle">
<div class="title">Traits</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides direction and ownership information.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1in__p.html">OOLUA::in_p&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input parameter trait.  <a href="struct_o_o_l_u_a_1_1in__p.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1out__p.html">OOLUA::out_p&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output parameter trait.  <a href="struct_o_o_l_u_a_1_1out__p.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1in__out__p.html">OOLUA::in_out_p&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input and output parameter trait.  <a href="struct_o_o_l_u_a_1_1in__out__p.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1cpp__in__p.html">OOLUA::cpp_in_p&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input parameter trait which will be owned by C++.  <a href="struct_o_o_l_u_a_1_1cpp__in__p.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1lua__out__p.html">OOLUA::lua_out_p&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Output parameter trait which will be owned by Lua.  <a href="struct_o_o_l_u_a_1_1lua__out__p.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1cpp__acquire__ptr.html">OOLUA::cpp_acquire_ptr&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change of ownership to C++.  <a href="struct_o_o_l_u_a_1_1cpp__acquire__ptr.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1lua__acquire__ptr.html">OOLUA::lua_acquire_ptr&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change of ownership to Lua.  <a href="struct_o_o_l_u_a_1_1lua__acquire__ptr.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_o_o_l_u_a_1_1calling__lua__state.html">OOLUA::calling_lua_state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Informs that the calling state is a parameter for a function.  <a href="struct_o_o_l_u_a_1_1calling__lua__state.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga9ed61e64cfd7c94046082221f524aac1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___o_o_lua_traits.html#ga9ed61e64cfd7c94046082221f524aac1">OOLUA::Owner</a> { <a class="el" href="group___o_o_lua_traits.html#gga9ed61e64cfd7c94046082221f524aac1afb78aaa1226c3fdc9b30339781cf3afe">OOLUA::No_change</a>, 
<a class="el" href="group___o_o_lua_traits.html#gga9ed61e64cfd7c94046082221f524aac1a8977e3a3bcac88d36f27d2fcd4e8d355">OOLUA::Cpp</a>, 
<a class="el" href="group___o_o_lua_traits.html#gga9ed61e64cfd7c94046082221f524aac1a43ffb484d9a2177fcb67a2c0975cc913">OOLUA::Lua</a>
 }</td></tr>
<tr class="separator:ga9ed61e64cfd7c94046082221f524aac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Provides direction and ownership information. </p>
<p>In C++ the use of traits which have a lua_ or cpp_ prefix can control ownership for parameters, returns values and stack entries whilst traits which specify direction for parameters contain as part of their name "out", "in" or a combination. </p>
<table class="doxtable">
<tr>
<th align="left">Trait </th><th align="left">Details  </th></tr>
<tr>
<td align="left"><a class="el" href="struct_o_o_l_u_a_1_1in__p.html">in_p</a> </td><td align="left">The calling Lua procedure supplies the parameter to the proxied function. No change of ownership occurs. <dl class="section note"><dt>Note</dt><dd>This is the default trait used for function parameters when no trait is supplied. </dd></dl>
</td></tr>
<tr>
<td align="left"><a class="el" href="struct_o_o_l_u_a_1_1out__p.html">out_p</a> </td><td align="left">The calling Lua procedure does not pass the parameter to the proxied function, instead one is created using the default constructor and passed to the proxied function. The result after the proxied call with be returned to the calling procedure. If this is a type which has a proxy then it will cause a heap allocation of the type, which Lua will own. <div class="fragment"><div class="line"><span class="keyword">struct </span>foo</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> bar( <span class="keywordtype">int</span>&amp; result);</div>
<div class="line">};</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(foo)</div>
<div class="line">    <a class="code" href="group___o_o_lua_expressive.html#ga63b334c4b6ee82dd4a1497a6c6bb65e9" title="Generates a member function proxy which will also be the named FunctionName. ">OOLUA_MEM_FUNC</a>(<span class="keywordtype">void</span>,bar,out_p&lt;<span class="keywordtype">int</span>&amp;&gt;)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
<div class="line">local result = foo.new():bar()</div>
<div class="line">assert(result)</div>
</div><!-- fragment --> </td></tr>
<tr>
<td align="left"><a class="el" href="struct_o_o_l_u_a_1_1in__out__p.html">in_out_p</a> </td><td align="left">The calling Lua procedure supplies the parameter to the proxied function, the value of the parameter after the proxied call will be passed back to the calling procedure as a return value. No change of ownership occurs. <div class="fragment"><div class="line"><span class="keyword">struct </span>foo</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> bar( <span class="keywordtype">int</span>&amp; input_and_result){++input_and_result;}</div>
<div class="line">};</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(foo)</div>
<div class="line">    <a class="code" href="group___o_o_lua_expressive.html#ga63b334c4b6ee82dd4a1497a6c6bb65e9" title="Generates a member function proxy which will also be the named FunctionName. ">OOLUA_MEM_FUNC</a>(<span class="keywordtype">void</span>,bar,in_out_p&lt;<span class="keywordtype">int</span>&amp;&gt;)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
<div class="line">local input = 1</div>
<div class="line">local result = foo.new():bar(input)</div>
<div class="line">assert(result and result~=input)</div>
</div><!-- fragment --> </td></tr>
<tr>
<td align="left"><a class="el" href="struct_o_o_l_u_a_1_1cpp__in__p.html">cpp_in_p</a> </td><td align="left">Parameter supplied via Lua changes ownership to C++. <div class="fragment"><div class="line"><span class="keyword">struct </span>foo</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">void</span> take_ownership(foo*);</div>
<div class="line">};</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(foo)</div>
<div class="line">    <a class="code" href="group___o_o_lua_expressive.html#ga63b334c4b6ee82dd4a1497a6c6bb65e9" title="Generates a member function proxy which will also be the named FunctionName. ">OOLUA_MEM_FUNC</a>(<span class="keywordtype">void</span>,take_ownership,cpp_in_p&lt;foo*&gt;)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
<div class="line"></div>
<div class="line">m_lua-&gt;<a class="code" href="namespace_o_o_l_u_a.html#a0c799adcc6a9c3865bca1256dd083f65" title="Loads and runs a chunk of code. ">run_chunk</a>(&quot;local f = foo.new() \n&quot;</div>
<div class="line">                &quot;f:take_ownership(foo.new())&quot;);</div>
</div><!-- fragment --> </td></tr>
<tr>
<td align="left"><a class="el" href="struct_o_o_l_u_a_1_1lua__out__p.html">lua_out_p</a> </td><td align="left">Lua code does not pass an instance to the C++ function, yet the pushed back value after the function call will be owned by Lua. This is meaningful only if called with a type which has a proxy and it is by reference, otherwise undefined. <div class="fragment"><div class="line"><span class="keyword">struct </span>foo</div>
<div class="line">{</div>
<div class="line">    foo* create();</div>
<div class="line">};</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga7941d8799929590eace6acdeec68f7dd" title="Starts the generation a proxy class. ">OOLUA_PROXY</a>(foo)</div>
<div class="line">    <a class="code" href="group___o_o_lua_expressive.html#ga63b334c4b6ee82dd4a1497a6c6bb65e9" title="Generates a member function proxy which will also be the named FunctionName. ">OOLUA_MEM_FUNC</a>(lua_out_p&lt;foo*&gt;,create)</div>
<div class="line"><a class="code" href="group___o_o_lua_d_s_l.html#ga8dccd4d1893d0352a0f5e486c527c49e" title="Ends the generation of the proxy class. ">OOLUA_PROXY_END</a></div>
<div class="line"></div>
<div class="line">local automatically_owned_by_lua = foo.new()</div>
<div class="line">local also_owned_by_lua = automatically_owned_by_lua:create()</div>
</div><!-- fragment --> </td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga9ed61e64cfd7c94046082221f524aac1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___o_o_lua_traits.html#ga9ed61e64cfd7c94046082221f524aac1">OOLUA::Owner</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Which language owns the parameter Lua, Cpp or no change to ownership </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga9ed61e64cfd7c94046082221f524aac1afb78aaa1226c3fdc9b30339781cf3afe"></a>No_change</em>&nbsp;</td><td class="fielddoc">
<p>No change of ownership </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga9ed61e64cfd7c94046082221f524aac1a8977e3a3bcac88d36f27d2fcd4e8d355"></a>Cpp</em>&nbsp;</td><td class="fielddoc">
<p>Change in ownership, C++ will now own the instance </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga9ed61e64cfd7c94046082221f524aac1a43ffb484d9a2177fcb67a2c0975cc913"></a>Lua</em>&nbsp;</td><td class="fielddoc">
<p>Change in ownership, Lua will now own the instance </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jun 13 2013 21:19:21 for OOLua by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
